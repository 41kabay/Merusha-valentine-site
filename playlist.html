<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Playlist for Merusha</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      background: linear-gradient(135deg, #ffe0f0, #fce1ff);
      font-family: "Poppins", sans-serif;
      color: #333;
      padding: 40px;
      margin: 0;
      text-align: center;
      overflow-x: hidden;
    }

    h1 {
      font-size: 3rem;
      color: #d12053;
      margin-bottom: 40px;
      text-shadow: 2px 2px 6px rgba(255, 118, 136, 0.3);
    }

    .playlist {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
    }

    .track {
      background: #fff0fb;
      border-radius: 20px;
      padding: 30px;
      width: 90%;
      max-width: 800px;
      box-shadow: 0 10px 25px rgba(255, 118, 136, 0.3);
      transition: transform 0.3s ease-in-out;
      position: relative;
    }

    .track:hover {
      transform: scale(1.02);
    }

    .track-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 12px;
      color: #b11746;
    }

    .heart-visual {
      position: absolute;
      right: 20px;
      bottom: 20px;
      font-size: 24px;
      color: #ff4d6d;
      transform: scale(1);
      transition: transform 0.1s ease-in-out;
    }

    audio {
      width: 100%;
      height: 50px;
    }

    audio::-webkit-media-controls-panel {
      background-color: #ffe0f0;
      border-radius: 10px;
    }

    .nav-links {
      margin-top: 60px;
    }

    .nav-links a {
      background: linear-gradient(135deg, #ff758c, #ff7eb3);
      color: white;
      padding: 16px 30px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: bold;
      text-decoration: none;
      margin: 12px;
      display: inline-block;
      transition: all 0.3s ease-in-out;
    }

    .nav-links a:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 24px rgba(255, 118, 136, 0.5);
    }
  </style>
</head>
<body>
  <h1>üíú –ü–ª–µ–π–ª–∏—Å—Ç –¥–ª—è –ú–µ—Ä—É—à–∏</h1>

  <div class="playlist">
    <div class="track">
      <div class="track-title">Everytime ‚Äî Chen & Punch</div>
      <audio controls src="music/everytime.mp3"></audio>
      <div class="heart-visual">‚ù§Ô∏è</div>
    </div>
    <div class="track">
      <div class="track-title">For You ‚Äî EXO-CBX</div>
      <audio controls src="music/foryou.mp3"></audio>
      <div class="heart-visual">‚ù§Ô∏è</div>
    </div>
    <div class="track">
      <div class="track-title">My Destiny ‚Äî Lyn</div>
      <audio controls src="music/mydestiny.mp3"></audio>
      <div class="heart-visual">‚ù§Ô∏è</div>
    </div>
  </div>

  <div class="nav-links">
    <a href="index.html">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    <a href="journal.html">–ñ—É—Ä–Ω–∞–ª</a>
    <a href="letters.html">–ü–∏—Å—å–º–∞</a>
  </div>

  <script>
    document.querySelectorAll('.track').forEach(track => {
      const audio = track.querySelector('audio');
      const heart = track.querySelector('.heart-visual');

      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const source = ctx.createMediaElementSource(audio);
        const analyser = ctx.createAnalyser();
        analyser.fftSize = 256;
        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);

        source.connect(analyser);
        analyser.connect(ctx.destination);

        function animate() {
          requestAnimationFrame(animate);
          analyser.getByteFrequencyData(dataArray);
          let volume = dataArray.reduce((a, b) => a + b) / bufferLength;
          let scale = 1 + volume / 100;
          heart.style.transform = `scale(${scale})`;
        }

        audio.onplay = () => ctx.resume().then(animate);
      } catch (e) {
        console.warn('AudioContext not supported:', e);
      }
    });
  </script>
</body>
</html>
